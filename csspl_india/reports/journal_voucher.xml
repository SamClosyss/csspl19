<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record id="css_invoice_format_without_logo" model="report.paperformat">
        <field name="name">Tax Invoice</field>
        <field name="default" eval="True"/>
        <field name="format">A4</field>
        <field name="page_height">0</field>
        <field name="page_width">0</field>
        <field name="orientation">Portrait</field>
        <field name="margin_top">15</field>
        <field name="margin_bottom">10</field>
        <field name="margin_left">5</field>
        <field name="margin_right">5</field>
        <field name="header_line" eval="False"/>
        <field name="header_spacing">16</field>
        <field name="dpi">90</field>
    </record>
    <record id="css_pdf_journal_voucher_without_logo" model="ir.actions.report">
        <field name="name">Journal Voucher(Without Logo)</field>
        <field name="model">account.move</field>
        <field name="report_type">qweb-html</field>
        <field name="report_name">csspl_india.tax_journal_voucher_without_logo</field>
        <field name="report_file">csspl_india.tax_journal_voucher_without_logo</field>
        <field name="print_report_name">'Journal-Voucher'</field>
        <field name="binding_model_id" ref="account.model_account_move"/>
        <field name="paperformat_id" ref="csspl_india.css_invoice_format_without_logo"/>
        <field name="binding_type">report</field>
    </record>


    <template id="tax_journal_voucher_without_logo">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <t t-call="csspl_india.css_invoice_report_header_without_logo">
                    <style>
                        .header_text{
                        font-size: 14px;
                        }
                        .content_text{
                        font-size: 13px;
                        }
                        .center_text{
                        text-align: center;
                        }
                    </style>
                    <div class="page" style="font-family:sans-serif;">
                        <table width="100%"
                               style="border: 1px solid black !important; border-collapse: collapse; margin-top: 35px;">
                            <tr>
                                <th colspan="3" style="border: 1px solid; width:100%; ">
                                    <h1 style="text-align:center; font-weight:bold">Clear Secured Service Pvt Ltd.</h1>

                                </th>
                            </tr>
                            <tr>
                                <td colspan="3" style="border: 1px solid; width:100%;">
                                    <h3 style="text-align:center; font-weight:bold">Journal Voucher</h3>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="3" style="border: 1px solid; text-align: end; width:100%; ">
                                    <strong style="padding: 5px">Ref No. :</strong>
                                    <span style="padding: 5px" t-esc="doc.name"/>
                                    <br/>
                                    <strong style="padding: 5px">Reference :</strong>
                                    <span style="padding: 5px" t-esc="doc.ref"/>
                                    <br/>
                                    <strong style="padding: 5px">Date:</strong>
                                    <span style="padding: 5px" t-esc="doc.date"/>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="1" style="border: 1px solid; width:20% ; text-align: center ;">
                                    Sr No.
                                </td>
                                <td colspan="1" style="border: 1px solid;  width:50% ; text-align: center ;">
                                    Particulars
                                </td>
                                <td colspan="1" style="border: 1px solid;  width:30% ; text-align: center ;">
                                    Debit
                                </td>
                            </tr>
                            <t t-set="sq_no" t-value="1"/>
                            <t t-set="gst_inc_price" t-value="0"/>
                            <t t-set="total" t-value="0"/>
                            <t t-set="subtotal_igst" t-value="0.0"/>
                            <t t-foreach="doc.invoice_line_ids" t-as="line">
                                <tr>
                                    <td style="border: 1px solid ; text-align: center ;">
                                            <t t-if="line.account_id.name">
                                                <span t-esc="sq_no" class="content_text"/>
                                                <t t-set="sq_no" t-value="sq_no+1"/>
                                            </t>
                                    </td>
                                    <td style="border: 1px solid; text-align: center ;">
                                        <t t-set="particular" t-value="line.account_id.name+' ('+line.partner_id.name+') '"/>
                                            <span t-esc="particular" class="content_text"/>
                                    </td>

                                    <td style="border: 1px solid; text-align: center ;">
                                            <span t-esc="line.debit" class="content_text"/>
                                            <t t-set="total" t-value="total+line.debit"/>
                                    </td>
                                </tr>
                            </t>

                                <tr>
                                    <td style="border: 1px solid">
                                        <center>
                                            <span class="content_text">Cr.</span>

                                        </center>
                                    </td>
                                    <td style="border: 1px solid ; text-align: end; ">
                                            <b>Total</b>
                                    </td>

                                    <td style="border: 1px solid" class="text-center">
<!--                                        <t t-set="sum_debit" t-value="sum(line.debit)"/>-->
                                        <center>
                                            <span t-esc="total" class="content_text"/>
                                        </center>
                                    </td>
                                </tr>

                                <tr>
                                    <td style="border: 1px solid">
                                        <center>
                                            <span class="content_text"></span>
                                        </center>
                                    </td>
                                    <td style="border: 1px solid" class="text-center">
                                        <center>
                                            <span>Name:</span>
                                            <span t-esc="doc.partner_id_line.name" class="content_text"/>
                                        </center>
                                    </td>

                                    <td style="border: 1px solid" class="text-center">
                                        <center>

                                        </center>
                                    </td>
                                </tr>

                                <tr>
                                    <td colspan="3" style="border-left: 1px solid;border-right: 1px solid;">
                                        <strong style=" padding: 5px" class="header_text">Amount (In Words) :</strong>
                                        <strong class="content_text" style="text-transform: capitalize;"
                                                t-esc="doc.convert_num_to_text(round(total, 2))"/>
                                        <tr>
                                            <td colspan="3" style="border-left: 1px solid;border-right: 1px solid;">
                                                <strong style=" padding: 5px" class="header_text">
                                                    Narration:
                                                </strong>
                                                <br/>
                                                <strong style=" padding: 5px">
                                                    <span t-esc="doc.narration" class="content_text"/>
                                                </strong>
                                                <br/>
                                            </td>
                                        </tr>

                                    </td>
                                </tr>

                        </table>
                    </div>
                </t>
            </t>
        </t>
    </template>


    <template id="without_logo_external_layout_stripped_invoice">
        <!--        <div t-attf-class="header o_company_#{company.id}_layout">-->
        <!--            <img t-if="o.company_id.logo" t-att-src="image_data_uri(o.company_id.logo)"-->
        <!--                 style="height: 60px;width: 220px;margin-top: 13px" alt="Logo"/>-->
        <!--        </div>-->
        <div t-attf-class="article o_report_layout_striped o_company_#{company.id}_layout"
             t-att-data-oe-model="o and o._name" t-att-data-oe-id="o and o.id"
             t-att-data-oe-lang="o and o.env.context.get('lang')">
            <t t-raw="0"/>
        </div>
    </template>
    <template id="css_invoice_report_header_without_logo">
        <t t-if="not o" t-set="o" t-value="doc"/>
        <t t-if="not company">
            <!--  Multicompany  -->
            <t t-if="company_id">
                <t t-set="company" t-value="company_id"/>
            </t>
            <t t-elif="o and 'company_id' in o">
                <t t-set="company" t-value="o.company_id.sudo()"/>
            </t>
            <t t-else="else">
                <t t-set="company" t-value="res_company"/>
            </t>
        </t>
        <t t-call="csspl_india.without_logo_external_layout_stripped_invoice">
            <t t-raw="0"/>
        </t>
    </template>

</odoo>